<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<link rel="stylesheet" href="styles/octo.css">
		<link rel="stylesheet" href="styles/input_modal.css">
		<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
 
		<link rel="icon" type="image/png" href="imgs/octo.png">
		<link href="https://fonts.googleapis.com/css?family=Quicksand:300,500" rel="stylesheet">

		<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0"></script>
		<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@0.1.1"></script>
		<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
		
		<title>OCTO</title>
	</head>
	<body>
		<header class="header">
			<!-- TODO CHANGE IMG TITLE TO A POPUP -->
			<img src="imgs/octo.PNG" alt="Octo Logo" class="logo" title="Big thanks to Laura for the fantastic drawing!">
			<h1>OCTO</h1>
			<div class="header-info">
				<p>Last Refresh: <span id="last-refresh"></span></p>
			</div>
		</header>
		<!-- Trigger/Open The Modal -->
		<button id="open-modal-btn">Add API Key</button>

		<!-- The Modal -->
		<div id="apikey-modal" class="modal">
			<!-- Modal content -->
			<div class="modal-content">
				<h3 class="modal-header">Input your API Key</h3>
				<span class="close">&times;</span>
				<p>Inputting your Octopus Energy API Key allows you to access your usage data. Find your API Key <a href="https://octopus.energy/dashboard/developer/" target="_blank">here</a> (you will need to log in with your Octopus Energy username and password). <br>
				<br>
				<b>Note:</b> You must have a smart meter to be able to access your usage data.</p>
				<br>
				<input placeholder="MPAN", id="mpan-input-field">
				<br>
				<input placeholder="Serial Number", id="serial-input-field">
				<br>
				<input placeholder="API Key", id="apikey-input-field">
				<br>
				<label for="remember">Remember me?</label>
				<input type="checkbox" id="remember">
				<br>
				<br>
				<button value="done" id="modal-done">done</button>
			</div>
		</div>

		<p id="default-data-warning">Sample dataset is being displayed</p>

		<div class="filters">
			<div class="filter-controls">
				<label class="date-from-label" for="date-from-input">Date From: <input type="text" id="date-from-input"><span>&#9888;</span></label>
				<label class="date-to-label" for="date-to-input">Date To: <input type="text" id="date-to-input"><span>&#9888;</span></label>
			</div>
			<button id="open-filters-btn">Filters &#8675;</button>
		</div>

		<div class="visuals">
			<div class="metrics">
				<div class="metric-item">
					<p>Total Usage: <br><span id="total-metric"></span></p>
				</div>
				<div class="metric-item">
					<p>Average Daily Usage: <br><span id="avg-daily-metric"></span></p>
				</div>
				<div class="metric-item">
					<p>Costliest Day: <br><span id="weekday-most-metric"></span></p>
				</div>
				<div class="metric-item">
					<p>Number of Days Shown: <br><span id="num-days-metric"></span></p>
				</div>
			</div>
			<div class="chart-area">
				<div class="chart-row">
					<canvas id="full-period" class="chart"></canvas>
				</div>
				<div class="chart-row">
					<div id="col1" class="chart-col">
						<canvas id="day-avg"></canvas>
					</div>
					<div class="chart-col">
						<canvas id="week-avg"></canvas>
					</div>
				</div>
			</div>
		</div>
		

		<script src="scripts/octo.js"></script>
		<script src="scripts/modal.js"></script>
		<script src="scripts/filter_controls.js"></script>
   </body>
</html>